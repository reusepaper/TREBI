<template>
  <div>
    <h1>PostList</h1>
    <Button @click="goPostDetail">글 상세보기</Button>
    {{this.$store.state.nowDisplayMember}}
    <Button
      v-if="this.$store.state.userLevel != 'visitor' && this.$store.state.is_login == true"
      @click="goPostWrite"
    >글작성</Button>
  </div>
</template>

<script>
import FirebaseService from "../../../../services/FirebaseService";
import { mapState } from "vuex";

export default {
  mounted() {
    // this.getPosts();
    console.log(displayMember);
    displayMember: this.$store.state.nowDisplayMember;
  },
  data() {
    return {
      displayMember: ""
    };
  },

  computed: mapState(["nowDisplayMember"]),
  watch: {
    nowDisplayMember() {
      // this.displayMember = this.$store.state.nowDisplayMember;
    }
  },
  methods: {
    getPosts: async function() {
      await FirebaseService.getPosts();
    },
    goPostDetail: function() {
      this.$store.commit("setPostPopupIndex", 0);
    },
    goPostWrite: function() {
      this.$store.commit("setPostPopupIndex", 2);
    }
  }
};
</script>

<style>
</style>
